<!--
  Generated template for the MyAddressBookPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>My Address Book</ion-title>
	</ion-navbar>

</ion-header>

<ion-content padding>


	<div *ngIf="addresses">
		<div *ngFor="let address of addresses">
			
				<ion-item style=" overflow: initial;" *ngIf="(address)?.isDefaultShipping">
				<ion-badge style="height: 30px;font-size: 20px;position: relative;">
					Default Shipping Address
				</ion-badge>
			</ion-item>
			
			<ion-list *ngIf="(address)?.isDefaultShipping" style="border: 1px solid">				
				<ion-item>
					<ion-label>
						Street Address:
					</ion-label>
					<ion-note item-end>
						<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					</ion-note>
				</ion-item>
				<ion-item>
					<ion-label>
						Postal Code:
					</ion-label>
					<ion-note item-end>
					<p>Singapore[{{address.postalCode}}]</p>
					</ion-note>
				</ion-item>				
				<ion-item>
				<ion-label>
					Addressee:
				</ion-label>
				<ion-note item-end>
					<p>{{address.fullName}}</p>
				</ion-note>
			</ion-item>

			<ion-item>
				<ion-label>
					Contact No.:
				</ion-label>
				<ion-note item-end>
					<p>{{address.phoneNumber}}</p>
				</ion-note>
			</ion-item>

		</ion-list>

		
		<ion-list *ngIf="!(address)?.isDefaultShipping" style="border: 1px solid">
			<ion-list-header>
				Other Addresses
			</ion-list-header>
			<ion-item>
				<ion-label>
					<b>Street Address:</b> 
				</ion-label>
				<ion-note item-end>
					<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					<p>{{address.postalCode}}</p>
				</ion-note>				
			</ion-item>
			
			<ion-item>
				<ion-label>
					<b>Addressee:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.fullName}}</p>
				</ion-note>
			</ion-item>

			<ion-item>
				<ion-label>
					<b>Contact No.:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.phoneNumber}}</p>
				</ion-note>
			</ion-item>
		</ion-list>
		</div>
	</div>
	
	<div>
		<ion-item (ion-select)="setShippingId(this.shippingId)">
			<ion-select [(ngModel)]="this.shippingId"> 
				<ion-option>Select an option</ion-option>
				<ion-option *ngFor="let address of addresses" value="address.addressId">
					<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					<p>{{address.postalCode}}</p>
				</ion-option>
			</ion-select>
		</ion-item>
	</div>
	
	<div>
		<ion-item (ion-select)="setBillingId(this.shippingId)">
			<ion-select [(ngModel)]="this.billingId"> 
				<ion-option *ngFor="let address of addresses">
					<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					<p>{{address.postalCode}}</p>
				</ion-option>
			</ion-select>
		</ion-item>
	</div>

	<ion-item>
		<button ion-button block (click)="createNewAddress($event, this.customerId)">
		Create New Address
		</button>
	</ion-item>
</ion-content>
