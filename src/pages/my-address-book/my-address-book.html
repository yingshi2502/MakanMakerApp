<!--
  Generated template for the MyAddressBookPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>My Address Book</ion-title>
	</ion-navbar>

</ion-header>

<ion-content padding>
<!--	<div *ngIf="errorMessage" class="errorText">
		{{errorMessage}}
	</div>
		
	<div *ngIf="infoMessage" class="infoText">
		{{infoMessage}}
	</div>
-->
	<div *ngIf="addresses">
		<div *ngFor="let address of addresses">
			<ion-item-group *ngIf="(address)?.isDefaultShipping">
		
				<ion-item-divider color="light">
					Shipping Address
				</ion-item-divider>
				
				<ion-item>
					<ion-label>
						<b>Street Address:</b> 
					</ion-label>
					<ion-note item-end>
						<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
						<p>{{address.postalCode}}</p>
					</ion-note>
				</ion-item>			
				<ion-item>
				<ion-label>
					<b>Addressee:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.fullName}}</p>
				</ion-note>
			</ion-item>

			<ion-item>
				<ion-label>
					<b>Contact No.:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.phoneNumber}}</p>
				</ion-note>
			</ion-item>

		</ion-item-group>

		<ion-item-group *ngIf="(address)?.isDefaultBilling">
		
			<ion-item-divider color="light">
					Billing Address
			</ion-item-divider>
				
				<ion-item>
					<ion-label>
						<b>Street Address:</b> 
					</ion-label>
					<ion-note item-end>
						<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
						<p>{{address.postalCode}}</p>
					</ion-note>
				</ion-item>			
			<ion-item>
				<ion-label>
					<b>Addressee:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.fullName}}</p>
				</ion-note>
			</ion-item>

			<ion-item>
				<ion-label>
					<b>Contact No.:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.phoneNumber}}</p>
				</ion-note>
			</ion-item>
		</ion-item-group>

		
		<ion-item-group *ngIf="!(address)?.isDefaultShipping && !(address)?.isDefaultShipping && !(address)?.isDeleted">
		
			<ion-item-divider color="light">
				Other Addresses
			</ion-item-divider>
			<ion-item>
				<ion-label>
						<b>Street Address:</b> 
				</ion-label>
				<ion-note item-end>
					<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					<p>{{address.postalCode}}</p>
				</ion-note>				
			</ion-item>
			
			<ion-item>
				<ion-label>
					<b>Addressee:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.fullName}}</p>
				</ion-note>
			</ion-item>

			<ion-item>
				<ion-label>
					<b>Contact No.:</b>
				</ion-label>
				<ion-note item-end>
					<p>{{address.phoneNumber}}</p>
				</ion-note>
			</ion-item>
		</ion-item-group>
		</div>
	</div>
	
	<div>
		<ion-item (ion-select)="setShippingId(this.shippingId)">
			<ion-select [(ngModel)]="this.shippingId"> 
				<ion-option>Select an option</ion-option>
				<ion-option *ngFor="let address of addresses" value="address.addressId">
					<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					<p>{{address.postalCode}}</p>
				</ion-option>
			</ion-select>
		</ion-item>
	</div>
	
	<div>
		<ion-item (ion-select)="setBillingId(this.shippingId)">
			<ion-select [(ngModel)]="this.billingId"> 
				<ion-option *ngFor="let address of addresses">
					<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
					<p>{{address.postalCode}}</p>
				</ion-option>
			</ion-select>
		</ion-item>
	</div>

	<button ion-button block (click)="createNewAddress($event, this.customerId)">
		Create New Address
	</button>
	<!--
	<div>

	<form #chooseBillingAddForm="ngForm" (ion-select)="setShippingId(address.addressId, chooseBillingAddForm)" >
		<div *ngIf="addresses">
			<ion-select *ngFor="let address of addresses"> 
				<ion-option name="(address.addressId)" value="(address.addressId)" [(ngModel)]="shippingId" value="address.addressId">
				<p>{{address.streetAddress}}, {{address.floorUnit}}</p>
				<p>{{address.postalCode}}</p>
				</ion-option>
			</ion-select>
		</div>
	</form>
	</div>
-->
	<button ion-button block>
		Choose Shipping Address (Under Construction)
	</button>

	<button ion-button block>
		Choose Billing Address (Under Construction)
	</button>
</ion-content>
